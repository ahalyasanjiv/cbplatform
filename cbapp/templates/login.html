{% extends "base.html" %}
{% block content %}
<section class="section">
  <div class="container">
    <h2 class="is-size-2">Login</h2>

    <form method="POST" action="/login/">
      {{ form.hidden_tag() }}

      <div class="field">
        <div class="label">{{ form.username.label }}</div>
        <div class ="control">{{ form.username(class_="input") }}</div>
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <div class=flashes>
            {% for message in messages %}
              {{ message }}
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
      <div class="form-group">
        {{ form.username.label }}
          <br>

        {% if form.username.errors %}
            {% for error in form.username.errors %}
              <p class="is-danger">{{ error }}</p>
            {% endfor %}
          {% endif %}
      </div>
      
      <div class="field">
        <div class="label">{{ form.password.label }}</div>
        <div class="control">{{ form.password(class_="input") }}</div>
          {% if form.password.errors %}
            {% for error in form.password.errors %}
              <p class="is-danger">{{ error }}</p>
            {% endfor %}
          {% endif %}
      </div>
      
      <br>
      {{ form.submit(class="button is-link") }}
    </form>
  </div>
</section>
{% endblock %}