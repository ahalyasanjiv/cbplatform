{% extends "base.html" %}
{% block content %}
  <div class="container">
    <h2 class="is-size-2">Login</h2>

    <form method="POST" action="/login">
      {{ form.hidden_tag() }}
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <div class=flashes>
            {% for message in messages %}
              {{ message }}
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
      <div class="form-group">
        {{ form.username.label }}
          <br>
          {% if form.username.errors %}
            {% for error in form.username.errors %}
              <p class="error-message">{{ error }}</p>
            {% endfor %}
          {% endif %}

        {{ form.username }}
      </div>
      
      <div class="form-group">
        {{ form.password.label }}
          <br>
          {% if form.password.errors %}
            {% for error in form.password.errors %}
              <p class="error-message">{{ error }}</p>
            {% endfor %}
          {% endif %}

        {{ form.password }}
      </div>
      
      <br>
      {{ form.submit(class="button is-link") }}
    </form>
  </div>
{% endblock %}